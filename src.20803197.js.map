{"version":3,"sources":["../src/components/Navbar.js","../src/pages/HomePage.js","../src/components/Input.js","../src/components/Button.js","../src/contexts/TodoContext.js","../src/components/TodoList.js","../src/pages/TodoPage.js","../src/App.js","../src/index.js"],"names":["Navbar","HomePage","Input","props","input","document","createElement","key","classList","add","addEventListener","outerHTML","Button","button","innerHTML","id","todos","addTodo","newTask","push","task","done","toggleTodo","forEach","todo","index","String","deleteTodo","findIndex","splice","TodoList","body","location","hash","replace","display","querySelector","todoHTML","remove","setAttribute","e","target","getAttribute","dispatchEvent","Event","delHTML","stopPropagation","append","TodoPage","placeholder","autocomplete","type","label","form","Array","from","children","find","child","tagName","preventDefault","value","firstLoaded","window","tryToLoad","setInterval","console","log","clearInterval","App","Router","endpoint","page","InitRouter","origin","pathname","href","links","querySelectorAll","updateActiveLinks","link","observer","MutationObserver","list","evt","CustomEvent","detail","observe","attributes","childList","subtree"],"mappings":"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","file":"src.20803197.js","sourceRoot":"..\\public","sourcesContent":["export function Navbar() {\r\n  return `\r\n    <nav id=\"nav\">\r\n      <a data-nav=\"/\" class=\"nav-item\">Home</a>\r\n      <a data-nav=\"/todo\" class=\"nav-item\">Todo</a>\r\n    </nav>\r\n  `\r\n}\r\n","export function HomePage() {\r\n  return `\r\n    <div class=\"home-page\">\r\n      <div class=\"bg\"></div>\r\n      <div class=\"content\">\r\n        <h1 class=\"title\">\r\n          <span class=\"em\">H T M L</span> / T O D O\r\n        </h1>\r\n        <p class=\"createdby\">\r\n          Created by\r\n          <a\r\n            class=\"name\"\r\n            href=\"https://github.com/bloodzmoon\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n          >\r\n            Thanyathon\r\n          </a>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  `\r\n}\r\n","export function Input(props) {\r\n  const input = document.createElement('input')\r\n  input.classList.add('input')\r\n\r\n  for (const key in props) {\r\n    if (key === 'onChange') {\r\n      input.addEventListener('change', props[key])\r\n    } else input[key] = props[key]\r\n  }\r\n\r\n  return input.outerHTML\r\n}\r\n","export function Button(props) {\r\n  const button = document.createElement('button')\r\n  button.classList.add('button')\r\n\r\n  for (const key in props) {\r\n    if (key === 'onClick') {\r\n      button.addEventListener('click', props[key])\r\n    } else if (key === 'label') {\r\n      button.innerHTML = props[key]\r\n    } else button[key] = props[key]\r\n  }\r\n\r\n  return button.outerHTML\r\n}\r\n","let id = 0\r\nexport const todos = []\r\n\r\nexport function addTodo(newTask) {\r\n  todos.push({ id, task: newTask, done: false })\r\n  id += 1\r\n}\r\n\r\nexport function toggleTodo(id) {\r\n  todos.forEach((todo, index) => {\r\n    if (String(todo.id) === String(id)) {\r\n      todos[index] = { ...todo, done: !todo.done }\r\n    }\r\n  })\r\n}\r\n\r\nexport function deleteTodo(id) {\r\n  const index = todos.findIndex((todo) => String(todo.id) === String(id))\r\n  todos.splice(index, 1)\r\n}\r\n","import { todos, toggleTodo, deleteTodo } from '../contexts/TodoContext.js'\r\n\r\nexport function TodoList() {\r\n  return `\r\n    <div class=\"todo-list\">\r\n      <h3 class=\"todo-title\">TODO LIST</h3>\r\n      <div id=\"todo-display\"></div>\r\n    </div>\r\n  `\r\n}\r\n\r\ndocument.body.addEventListener('dom-changed', () => {\r\n  if (location.hash.replace('#', '') !== '/todo') return\r\n\r\n  const display = document.querySelector('#todo-display')\r\n\r\n  display.addEventListener('update-todo', () => {\r\n    display.innerHTML = ''\r\n    todos.forEach((todo) => {\r\n      const todoHTML = document.createElement('div')\r\n      todoHTML.classList.add('todo-item')\r\n      if (todo.done) todoHTML.classList.add('done')\r\n      else todoHTML.classList.remove('done')\r\n      todoHTML.setAttribute('data-id', todo.id)\r\n      todoHTML.addEventListener('click', (e) => {\r\n        toggleTodo(e.target.getAttribute('data-id'))\r\n        display.dispatchEvent(new Event('update-todo'))\r\n      })\r\n\r\n      const delHTML = document.createElement('span')\r\n      delHTML.classList.add('del')\r\n      delHTML.setAttribute('data-id', todo.id)\r\n      delHTML.innerHTML = 'DEL'\r\n      delHTML.addEventListener('click', (e) => {\r\n        e.stopPropagation()\r\n        deleteTodo(e.target.getAttribute('data-id'))\r\n        display.dispatchEvent(new Event('update-todo'))\r\n      })\r\n\r\n      todoHTML.append(todo.task)\r\n      todoHTML.append(delHTML)\r\n\r\n      display.append(todoHTML)\r\n    })\r\n  })\r\n})\r\n","import { Input } from '../components/Input.js'\r\nimport { Button } from '../components/Button.js'\r\nimport { TodoList } from '../components/TodoList.js'\r\nimport { addTodo } from '../contexts/TodoContext.js'\r\n\r\nexport function TodoPage() {\r\n  return `\r\n    <div class=\"todo-page\">\r\n      <form id=\"todo-form\">\r\n        ${Input({\r\n          placeholder: 'Type something to add..',\r\n          autocomplete: 'nope',\r\n        })}\r\n        ${Button({ type: 'button', label: 'ADD' })}\r\n      </form>\r\n      ${TodoList()}\r\n    </div>\r\n  `\r\n}\r\n\r\ndocument.body.addEventListener('dom-changed', (e) => {\r\n  if (location.hash.replace('#', '') !== '/todo') return\r\n\r\n  const form = document.querySelector('#todo-form')\r\n  const display = document.querySelector('#todo-display')\r\n  const input = Array.from(form.children).find(\r\n    (child) => child.tagName === 'INPUT'\r\n  )\r\n  const button = Array.from(form.children).find(\r\n    (child) => child.tagName === 'BUTTON'\r\n  )\r\n\r\n  form.addEventListener('submit', (e) => {\r\n    e.preventDefault()\r\n    if (input.value === '') return\r\n    addTodo(input.value)\r\n    input.value = ''\r\n    display.dispatchEvent(new Event('update-todo'))\r\n  })\r\n\r\n  button.addEventListener('click', () => {\r\n    if (input.value === '') return\r\n    addTodo(input.value)\r\n    input.value = ''\r\n    display.dispatchEvent(new Event('update-todo'))\r\n  })\r\n})\r\n\r\nlet firstLoaded = false\r\nwindow.addEventListener('popstate', () => {\r\n  if (location.hash.replace('#', '') === '/todo') {\r\n    if (firstLoaded) return\r\n\r\n    const tryToLoad = setInterval(() => {\r\n      const display = document.querySelector('#todo-display')\r\n      if (!display) return\r\n      display.dispatchEvent(new Event('update-todo'))\r\n      firstLoaded = true\r\n      console.log('a')\r\n      clearInterval(tryToLoad)\r\n    }, 10)\r\n  } else {\r\n    firstLoaded = false\r\n  }\r\n})\r\n","import { Navbar } from './components/Navbar.js'\r\nimport { HomePage } from './pages/HomePage.js'\r\nimport { TodoPage } from './pages/TodoPage.js'\r\n\r\nexport function App() {\r\n  return `\r\n    ${Navbar()}\r\n    <div id=\"app-page\"></div>\r\n  `\r\n}\r\n\r\nfunction Router() {\r\n  const endpoint = location.hash.replace('#', '')\r\n  const page = document.querySelector('#app-page')\r\n  page.innerHTML = ''\r\n\r\n  switch (endpoint) {\r\n    case '/':\r\n      return (page.innerHTML = HomePage())\r\n    case '/todo':\r\n      return (page.innerHTML = TodoPage())\r\n    default:\r\n      return (page.innerHTML = HomePage())\r\n  }\r\n}\r\n\r\nexport function InitRouter() {\r\n  if (!location.hash) {\r\n    const { origin, pathname } = location\r\n    location.href = `${origin}${pathname}#/`\r\n  }\r\n  const links = document.querySelectorAll('a[data-nav]')\r\n\r\n  function updateActiveLinks() {\r\n    links.forEach((link) => {\r\n      if (link.getAttribute('data-nav') === location.hash.replace('#', ''))\r\n        link.classList.add('active')\r\n      else link.classList.remove('active')\r\n    })\r\n    Router()\r\n  }\r\n  updateActiveLinks()\r\n\r\n  links.forEach((link) =>\r\n    link.addEventListener('click', (e) => {\r\n      e.preventDefault()\r\n      const endpoint = e.target.getAttribute('data-nav')\r\n      const { origin, pathname } = location\r\n      location.href = `${origin}${pathname}#${endpoint}`\r\n    })\r\n  )\r\n\r\n  window.addEventListener('popstate', () => {\r\n    updateActiveLinks()\r\n  })\r\n}\r\n","import { App, InitRouter } from './App.js'\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  document.querySelector('#app').innerHTML = App()\r\n  InitRouter()\r\n})\r\n\r\nconst observer = new MutationObserver((list) => {\r\n  const evt = new CustomEvent('dom-changed', { detail: list })\r\n  document.body.dispatchEvent(evt)\r\n})\r\nobserver.observe(document.body, {\r\n  attributes: true,\r\n  childList: true,\r\n  subtree: true,\r\n})\r\n"]}